![滑动窗口](https://i.loli.net/2019/01/03/5c2d78ac2d805.jpeg)

<h3 style="padding-bottom:6px; padding-left:20px; color:#ffffff; background-color:#E74C3C;">什么是滑动窗口协议</h3>

**滑动窗口协议**（*Sliding Window Protocol*），属于[TCP协议](https://baike.baidu.com/item/TCP%E5%8D%8F%E8%AE%AE)的一种应用，用于网络数据传输时的 **流量控制**，以 **避免拥塞** 的发生。该协议允许发送方在停止并等待确认前发送多个数据分组。由于发送方不必每发一个分组就停下来等待确认，因此该协议可以加速数据的传输，提高网络吞吐量。



<h3 style="padding-bottom:6px; padding-left:20px; color:#ffffff; background-color:#E74C3C;">TCP流量控制与滑动窗口协议</h3>

![滑动窗口协议的机制](https://i.loli.net/2019/01/13/5c3b5c7c55887.png)

TCP滑动窗口从发送端和接收端分为发送窗口和接收窗口，各自维护着一个滑动窗口，以此来达到流量控制。



#### 关于滑动窗口协议中的概念

**发送端：**

* 已发送并收到确认：已经发送数据段，并且这些数据被接收端已确认接收；
* 已发送，未收到确认：已经发送数据段，但发送端未接收到由接收端发送的已接收的确认消息；
* 未发送，可以发送：在流量控制中，数据量未达发送的到阈值，是可以由发送端发送的，但发送端还未来得及发送；
* 未发送，不允许发送：发送端发送的数据过多，但很多数据未被确认接收，为达到流量控制的效果，这些数据段不允许被发送。

**接收端：**

* 已发送确认并已交付主机：接收端对已接收的数据交付给内部使用，并且发送确认已收到的消息给发送端，表示客户端已收到相应的数据，避免数据丢失；
* 允许接受：在接受窗口中，未达到阈值的情况下，接收端允许接受数据的窗口；
* 不允许接受：为了达到流量控制，接收到不能无限制的接受数据，达到接受窗口的阈值时，接受端将不允许接受数据。

