<h3 style="padding-bottom:6px; padding-left:20px; color:#ffffff; background-color:#E74C3C;">一、数据库三大范式</h3>

> **范式** 英文 *Normal Form*，缩写 *NF*，翻译为 **规范化形式**，简称 **范式**。

#### 第一范式1NF：

> 数据表中的每一列(字段)，必须是不可拆分的最小单元，也就是确保每一列的原子性，而不是集合。

**反例**：

| id          | user_id  | address                           |
| ----------- | -------- | --------------------------------- |
| 20079878899 | c6999001 | 浙江省舟山市普陀区朱家尖街道666号 |

其中 *address* 可以再分为省、市、地区(县)、街道、详细地址，违反了第一范式。

**正例**：

| id          | user_id  | province | city   | district | street     | detail_address |
| ----------- | -------- | -------- | ------ | -------- | ---------- | -------------- |
| 20079878899 | c6999001 | 浙江省   | 舟山市 | 普陀区   | 朱家尖街道 | 和平路666号    |

*根据业务需求合理使用行政区域


#### 第二范式2NF：

> 满足1NF的基础上，要求：表中的所有列，都必需依赖于主键，而不能有任何一列与主键没有关系（一个表只描述一件事情）。

*主键* 存在的意义就是唯一地标识表中的某一条记录。

**反例**：

| user_id  | province | city   | district | street     | weather |
| -------- | -------- | ------ | -------- | ---------- | ------- |
| c6999001 | 浙江省   | 舟山市 | 普陀区   | 朱家尖街道 | 晴天    |

此表中，天气和用户没啥关系，也就不存在依赖关系，所不符合 *第二范式*。正确的做法应该删除此列，如有其他需要可单独存在一张表中。

#### 第三范式3NF：

> 满足2NF的基础上，任何非主属性不依赖于其它非主属性（在2NF基础上消除传递依赖）（也表明不允许数据存在冗余的现象）

**反例**：

| order_id     | buyer_info_id | buyer_name | buyer_gender | buyer_age | order_status   |
| ------------ | ------------- | ---------- | ------------ | --------- | -------------- |
| 201809050001 | c666899       | 李某人     | 男           | 18        | waitsellersend |

上面是一个订单表，字段从左至右以此是：订单id、买家id、买家名称、买家性别、买家年龄、订单状态。其中字段`buyer_name`、`buyer_gender`、`buyer_age` 是依赖于字段 `buyer_info_id` ，而不依赖于主键 `order_id` ，违反 *第二范式*。

**正例**：

订单表

| order_id     | buyer_info_id | order_status   |
| ------------ | ------------- | -------------- |
| 201809050001 | c666899       | waitsellersend |

买家信息表

| buyer_info_id | buyer_name | buyer_gender | buyer_age |
| ------------- | ---------- | ------------ | --------- |
| c666899       | 李某人     | 男           | 18        |



<h3 style="padding-bottom:6px; padding-left:20px; color:#ffffff; background-color:#E74C3C;">二、数据库五大约束</h3>

#### 1、主键约束（Primay Key） 

> 唯一性，非空性

#### 2、唯一约束 （Unique）

> 唯一性，可以空，但只能有一个

#### 3、检查约束 (Check) 

>  对该列数据的范围、格式的限制（如：年龄、性别等）

#### 4、默认约束 (Default) 

> 该数据的默认值

#### 5、外键约束 (Foreign Key) 

> 需要建立两表间的关系